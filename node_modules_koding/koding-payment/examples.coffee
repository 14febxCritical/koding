payment = require './lib/main'

###
    Recurly account code:
        group_xyz

    Recurly plans created:

        VM
            bundle_vm_cpu_10
            bundle_vm_cpu_20
            bundle_vm_cpu_30

            bundle_vm_memory_10
            bundle_vm_memory_20

        Group
            bundle_group_user_100
            bundle_group_user_500


    Details at: https://koding.recurly.com/
###


# # Get account information
# payment.getAccount 'group_xyz', (err, account)->
#     console.log arguments


# # List bundle items
# payment.fetchPlans (err, plans)->
#     bundleItems = {}
#     plans.forEach (plan)->
#         if plan.code.indexOf('bundle_') > -1
#             console.log plan.code.split '_'

# # Create bundle item
# payment.createPlan
#     code   : 'bundle_vm_disk_10'
#     title  : 'Bundle: VM Disk 10GB'
#     feeAmount : 30 * 100
# , (err, plan)->
#     console.log plan

# # Delete bundle item
# payment.deletePlan
#     code   : 'bundle_vm_disk_10'
# , (err, plan)->
#     console.log err


# # Subscribe to a bundle item
# payment.createSubscription 'group_xyz',
#     plan : 'bundle_vm_cpu_10'
# , (err, result)->
#     console.log err, result


# # List bundle item subscriptions
# payment.fetchSubscriptions 'group_xyz', (err, subs)->
#     subs.forEach (sub)->
#         if sub.plan.indexOf('bundle_') > -1
#             console.log sub


# # Update to another bundle item
# # Please, do not update cpu item to memory item :)
# payment.updateSubscription 'group_xyz',
#     uuid : '2018ce1ce3c3d2dd5240fb4144a6488c'   # Get UUID from fetchSubscriptions('group_xyz')
#     plan : 'bundle_vm_cpu_30'
# , (err, result)->
#     console.log result


# # Cancel subscription to a plan:
# payment.cancelSubscription 'group_xyz',
#     uuid : '2018ce1ce3c3d2dd5240fb4144a6488c'
# , (err, result)->
#     console.log result


# # Re-activate subscription to a plan:
# payment.reactivateUserSubscription 'group_xyz',
#     uuid : '2018ce1ce3c3d2dd5240fb4144a6488c'
# , (err, result)->
#     console.log arguments


# # Set account information
# payment.setAccountWithBilling 'group_xyz',
#     email: ''
#     firstName: ''
#     lastName: ''
#     cardNumber: ''
#     cardCV: ''
#     cardMonth: ''
#     cardYear: ''
#     cardFirstName: ''
#     cardLastName: ''
#     address1: ''
#     address2: ''
#     city: ''
#     state: ''
#     zipCode: ''
#     country: ''
# , (err, res)->
#     payment.getAccount 'group_xyz', (err, account)->
#         console.log account

# Make single payment
# payment.createTransaction 'user_51a7ce34c0d476000000000b',
#     amount: 123 * 100
# , (err, charged)->
#     console.log err
#     console.log charged

# Refund payment
# payment.deleteTransaction 'user_51a7ce34c0d476000000000b',
#     amount: 123 * 100
#     uuid  : '206ab15fe5ad2a7611f9b142c8a3c64c'
# , (err, charged)->
#     console.log err
#     console.log charged

###
    Note that,

    - You can:
        - subscribe to bundle_vm_cpu_10 and bundle_vm_memory_10
        -

    - You shouldn't (but, you can):
        - subscribe to bundle_vm_cpu_10 and bundle_vm_cpu_20 at the same time
        -

    - Subscription list info:
        - Status:
            - 'active' means subscription continues
            - 'canceled' means it won't be renewed after 'expires'
            - 'failed' means there's something wrong with billing
            - 'future' means it will be active on 'datetime'
###
