payment = require './lib/main'

###
    Recurly account code:
        group_xyz

    Recurly plans created:

        VM
            bundle_vm_cpu_10
            bundle_vm_cpu_20
            bundle_vm_cpu_30

            bundle_vm_memory_10
            bundle_vm_memory_20

        Group
            bundle_group_user_100
            bundle_group_user_500


    Details at: https://koding.recurly.com/
###


# # Get account information
# payment.getAccount 'group_xyz', (err, account)->
#     console.log arguments


# # List bundle items
# payment.getPlans (err, plans)->
#     bundleItems = {}
#     plans.forEach (plan)->
#         if plan.name.indexOf('bundle_') > -1
#             console.log plan.title
#             console.log plan.name.split '_'

# # Create bundle item
# payment.addPlan
#     planCode   : 'bundle_vm_disk_10'
#     planTitle  : 'Bundle: VM Disk 10GB'
#     feeMonthly : 30 * 100
# , (err, plan)->
#     console.log plan

# # Delete bundle item
# payment.deletePlan
#     planCode   : 'bundle_vm_disk_10'
# , (err, plan)->
#     console.log err

# # Subscribe to a bundle item
# payment.addUserSubscription 'group_xyz',
#     plan : 'bundle_vm_cpu_10'
# , (err, result)->
#     console.log result


# # List bundle item subscriptions
# payment.getUserSubscriptions 'group_xyz', (err, subs)->
#     subs.forEach (sub)->
#         if sub.plan.indexOf('bundle_') > -1
#             console.log sub


# # Update to another bundle item
# # Please, do not update cpu item to memory item :)
# payment.updateUserSubscription 'group_xyz',
#     uuid : '200fa4a01e6d13fe60f427439590ce9f'   # Get UUID from getUserSubscriptions('group_xyz')
#     plan : 'bundle_vm_cpu_30'
# , (err, result)->
#     console.log result


# # Cancel subscription to a plan:
# payment.cancelUserSubscription 'group_xyz',
#     uuid : '200fa4a01e6d13fe60f427439590ce9f'
# , (err, result)->
#     console.log result


# # Re-activate subscription to a plan:
# payment.reactivateUserSubscription 'group_xyz',
#     uuid : '200fa4a01e6d13fe60f427439590ce9f'
# , (err, result)->
#     console.log 


###
    Note that,

    - You can:
        - subscribe to bundle_vm_cpu_10 and bundle_vm_memory_10
        - 

    - You shouldn't (but, you can):
        - subscribe to bundle_vm_cpu_10 and bundle_vm_cpu_20 at the same time
        - 

    - Subscription list info:
        - Status:
            - 'active' means subscription continues
            - 'canceled' means it won't be renewed after 'expires'
            - 'failed' means there's something wrong with billing
            - 'future' means it will be active on 'datetime'
###