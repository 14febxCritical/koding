KiteDataStoreBaseAdapter = require './adapters/datastorebaseadapter'
KiteDataStoreAdapterFactory = require './adapters/datastoreadapterfactory'

module.exports.DataStore = class KiteDataStore

  constructor: (@adapter = null)->
    
    if @adapter is not typeof KiteDataStoreBaseAdapter 
      throw Error 'Adapter must implement DataStoreBaseAdapter'

  set:(key, value, callback) ->
    @adapter.set key, value, callback

  get: (key, callback) ->
    @adapter.get key, callback

  delete: (key, callback) ->
    @adapter.delete key, callback

module.exports.DataStoreFactory = KiteDataStoreAdapterFactory