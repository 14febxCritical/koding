aws = require 'aws-sdk'

awsKey = ''
awsSecret = ''

# buildTemplate = (template) ->
#   console.log "Building AWS files..."
#   console.log ""
#   console.log "Running instane on AWS EC2..."
#   console.log ""

# printTemplate = (template) ->
#   console.log "AMI   : ", template.ami
#   console.log "Type  : ", template.type

#   callback = (data) ->
#     console.log "Data  : ", data
#   console.log template
#   template.buildUserData callback

AWS =
  aws: aws
  init: (config) ->
    awsKey = config.key
    awsSecret = config.secret

    aws.config.update
      accessKeyId: awsKey
      secretAccessKey: awsSecret
    aws.config.update
      region: 'us-east-1'

  buildTemplate: (template, callback) ->
    template.buildTemplate (err, data) ->
      callback err, data

  startEC2: (config, callback) ->
    console.log "..."

module.exports = AWS