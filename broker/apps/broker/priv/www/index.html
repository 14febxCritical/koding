
<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>Javascript Â· Twitter Bootstrap</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="description" content="">
        <meta name="author" content="">

        <!-- Le styles -->
        <link href="//netdna.bootstrapcdn.com/twitter-bootstrap/2.0.4/css/bootstrap-combined.min.css" rel="stylesheet">
        <style type="text/css">
            .icons:hover{
            cursor: pointer;
            cursor: hand;
        }

        </style>

        <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
        <!--[if lt IE 9]>
          <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->

    </head>
    
  <body data-spy="scroll" data-target=".subnav" data-offset="50">

    <div class="container">

      <!-- Masthead
      ================================================== -->
      <section>
          <div class = "row">
            <div class = "span12">
          <ul class="nav nav-tabs" id="myTab">
              <li class="active"><a href="#chat1" data-toggle="tab"><i class="icon-hand-right"></i> Room 1 <i class="icons icon-remove-sign remove_chat_room" title="Remove Tab"></i></a></li>
              <!-- <li><a href="#chat2" data-toggle="tab"><i class="icon-hand-right"></i> Room 2 <i class="icons icon-remove-sign  remove_chat_room" title="Remove Tab"></i></a></li>
              <li><a href="#chat4" data-toggle="tab"><i class="icon-hand-right"></i> Room 3 <i class="icons icon-remove-sign  remove_chat_room" title="Remove Tab"></i></a></li> -->

          </ul>
         
          <div id = "chatrooms" class="tab-content">
            <div class="tab-pane active row" id="chat1">
              <div class="row span12">
                <div class="span7 messages">
                  <!-- <div>[Son Tran]: hi</div> -->
                </div>
                <div class="span4">
                    <ul class="nav nav-tabs nav-stacked nav_chat">
                    <li class="nav-header">Room 1</li>
                    <!-- <li><a href="#" target_id="buddy1"><i class="icon-user"></i> Son Tran</a></li>
                    <li><a href="#" target_id="buddy2"><i class="icon-user"></i> Tri Nguyen</a></li>
                    <li><a href="#" target_id="buddy3"><i class="icon-user"></i> Binh Tran</a></li>
                    <li><a href="#" target_id="buddy4"><i class="icon-user"></i> Nhat Le</a></li> -->
                  </ul>
                </div>
              </div>
              <div class="row span12 input_chat">
                <form>
                    <input type="text" class="span7" placeholder="Type something...">
                    <button type="submit" class="btn">Send</button>
                </form>
              </div>
            </div>
            <!-- <div class="tab-pane row" id="chat2">
                <div class="row span12">
                 <div class="span7 messages">
                    text
                  </div>
                  <div class="span4">
                    <ul class="nav nav-tabs nav-stacked nav_chat">
                      <li class="nav-header">Room 2</li>
                      <li><a href="#" target_id="buddy5"><i class="icon-user"></i> Son Tran</a></li>
                      <li><a href="#" target_id="buddy6"><i class="icon-user"></i> Tri Nguyen</a></li>
                    </ul>
                  </div>
                </div>
              <div class="row span12 input_chat">
                <form>
                      <input type="text" class="span7" placeholder="Type something...">
                      <button type="submit" class="btn">Send</button>
                </form>
              </div>
            </div>
            <div class="tab-pane row" id="chat4">
                <div class="row span12">
                 <div class="span7 messages">
                    <div>[Steve]: [smiling]</div>
                  </div>
                  <div class="span4">
                    <ul class="nav nav-tabs nav-stacked nav_chat">
                      <li class="nav-header">Room 4</li>
                      <li><a href="#" target_id="buddy9"><i class="icon-user"></i> Steve</a></li>
                      <li><a href="#" target_id="buddy10"><i class="icon-user"></i> Jack</a></li>
                      <li><a href="#" target_id="buddy11"><i class="icon-user"></i> Forge</a></li>
                    </ul>
                  </div>
                </div>
              <div class="row span12 input_chat">
                <form>
                      <input type="text" class="span7" placeholder="Type something...">
                      <button type="submit" class="btn">Send</button>
                </form>
              </div>
            </div> -->
   
          </div>
          </div>
      </section>

    </div><!-- /container -->



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" type="text/javascript"></script>
    <script src="//netdna.bootstrapcdn.com/twitter-bootstrap/2.0.4/js/bootstrap.min.js"></script>
    <script src="http://cdn.sockjs.org/sockjs-0.3.js"></script>
    <script src="broker.js"></script>
    <script>
        $(function () {
            $('#myTab a:first').tab('show');
            $('.nav_chat a').click(function () {
                var target_id = $(this).attr("target_id");
                var target_value = $(this).html();

                if ($('#'+target_id).length) {
                 // intentionally blank
                }
              
            });
            $('#myTab .remove_chat_room').click(function () {
                // target_id includes "#"
                var target_id = $(this).parent().attr('href');
                // remove '#' as first character
                //target_id = target_id.substring(1, target_id.length);
                $(target_id).remove();
                $(this).parent().parent().remove();
                $('#myTab a:first').tab('show'); // Select first tab
            });

            var newChannel = function(channel) {
                var $tabPane = $('<div class="tab-pane row" id="'+channel+'"></div>');
                var $main = $('<div class="row span12"></div>');
                var $messages = $('<div class="span7 messages"></div>');
                $main.append($messages);

                var $buddies = $('<div class="span4"></div>');
                var $buddiesList = $('<ul class="nav nav-tabs nav-stacked nav_chat"></ul>');
                $buddiesList.append('<li class="nav-header">'+channel+'</li>');
                $buddies.append($buddiesList);
                $main.append($buddies);

                var $inputDiv = $('<div class="row span12 input_chat"></div>');
                var $input = $('<input type="text" class="span7" placeholder="Type something...">');
                var $btn = $('<button type="submit" class="btn">Send</button>');
                var $form = $('<form></form>');
                $form.append($input);
                $form.append($btn);
                $inputDiv.append($form);

                $tabPane.append($main);
                $tabPane.append($inputDiv);
            }

        

        })

    </script>
  </body>
</html>