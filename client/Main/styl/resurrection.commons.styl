@import "../../Framework/themes/default/kdfn"
@import "../styl/appfn"
@import "../styl/app.fonts"

@css {
/*
Activity stylesheet
resurrection.commons.styl
*/
}

.avatarview
  background-image          url('/a/images/defaultavatar/avatar.svg')
  background-size           100% 100%
  background-repeat         no-repeat
  overflow                  hidden
  display                   block
  vertical-align            top
  rounded                   50%
  img
    // to avoid chrome's weird rendering bug
    // where it first shows the image as a square
    // then hides the corners to make them rounded - SY
    // - fixed the line below.
    rounded                 50%
    vendor                  transition, opacity .3s ease

.content-page
  max-width                 1146px
  margin                    0 auto
  padding                   55px 20px 0
  size                      auto auto

  > aside.kdview

    width                 190px
    height                auto
    padding               3px
    fl()
    borderBox()

    nav
      width               190px
      border-right        1px solid #D6D6D6
      fix()

  .kdlistview-inner-nav

    hr
      margin              10px 20px 10px 0
      height              1px
      bg                  color #E0E0E0
      border              none

    a
      display             block
      color               #828B8B
      line-height         40px
      noTextDeco()
      &.selected
        color             #65AE62

  > .kdtabview
    margin-left         64px
    height              100%
    kalc                width, 100% \- 254px
    font-size           14px
    fl()


.application-page
  margin                    0
  padding                   55px 0 0
  width                     100%
  borderBox()

.application-tabview
  kalc                      height, 100% \- 40px
  bg                        color, #1b2224

/* Activity item menu */
body.activity
body.profile
body.dashboard
  .kdbuttonmenu.jcontextmenu
    margin              4px 0 0 14px
    rounded             6px
    border              1px solid #e4e4e4
    shadow              0 8px 35px rgba(0, 0, 0, .22)
    padding             5px 0

    &:after
      content             ""
      display             block
      size                0 0
      right               19px
      bottom              100%
      border              7px solid transparent
      border-bottom-color #fff
      z-index             600
      abs()

    &:before
      content             ""
      display             block
      size                0 0
      right               18px
      bottom              100%
      border              8px solid transparent
      border-bottom-color #e4e4e4
      z-index             599
      abs()

    &.comment-menu
      margin              0 0 0 16px

    .kdlistitemview-contextitem
      color               #50595f
      font-size           12px
      line-height         24px
      cursor              pointer
      padding             0 0 0 12px

      .icon
        margin            0 7px 0 0
        display           inline-block
        vertical-align    sub
        &.edit
          r-sprite        app "edit-icon"
        &.delete
          r-sprite        app "delete-icon"

      &:hover
      &.selected
        bg                color #F8f8f8
        text-shadow       none


    .chevron-ghost-wrapper
      opacity           0

.kdtabhandlecontainer.application-tab-handle-holder

  bg                        color, #252E30
  border-bottom             none
  padding-top               3px
  height                    40px
  overflow                  hidden
  noTextSelection()
  borderBox()

  .kdtabhandle-tabs
    vendor                  transition, margin-left .3s ease

  .kdtabhandle-movenav
    width                   33px
    height                  40px
    padding                 8px
    background              #252E30
    right                   0
    top                     3px
    z-index                 11
    abs()

    .leftButton
      bg                    color, transparent
      r-sprite                app 'previous'
      fl()

    .rightButton
      bg                    color, transparent
      r-sprite                app 'next'
      margin-left           10px
      fl()


  .kdtabhandle
    border                  none
    height                  37px
    line-height             37px
    font-size               14px
    font-family             'Proxima Nova'
    font-weight             300
    color                   #5e7074
    &:hover
      span.close-tab
        opacity             1
    span.close-tab
      top                   8px
      right                 8px
      bg                    color, transparent
      r-sprite                app '20-close-tab'
      opacity               0

    &.plus
      bg                    color, transparent
      border-left           2px solid #1b2224
      width                 37px
      padding               0
      .icon
        r-sprite              app '20-tab-plus'
        margin              8px 9px 9px 8px
        display             block
    &.active
      bg                    color, #1b2224
      color                 #eeeeee
      span.close-tab
        top                 8px
        right               8px
        bg                  color, transparent
        r-sprite              app '20-close-tab'
    &.modified:before
      content               ""
      size                  5px, 5px
      rounded               50%
      background            #616f74
      abs                   14px 0 0 5px
      fl()


.header-facets
  right                     0
  top                       67px
  size                      auto auto
  z-index                   3
  line-height               28px
  height                    28px
  abs()
  span.title
    margin-right            8px
    text-transform          uppercase
    font-size               10px
    font-weight             600
    color                   #ddd
  a.active-facet
    rel()
    display                 inline-block
    text-decoration         none
    font-weight             600
    margin-right            20px
    padding-right           16px
    font-size               12px
    line-height             28px
    color                   linkColor1
    cite
      abs()
      top                   4px
      right                 0
      display               block
      background-color      red
      r-sprite                app '20-chevron-orange'
      size                  16px 20px

div.copy-url-wrapper
  width 320px
  padding 2px 5px 2px 10px

  div.public-url-warning
    color black

  label.public-url-label
    display inline-block
    vertical-align bottom
    font-size 12px
    font-weight 400
    margin-bottom 1px
    color black

  input.kdinput.public-url-input
    borderBox()
    // text-align center
    // margin 10px
    display inline-block
    min-width 233px

  .icon-link
    abs                     4px, 4px
    .icon.new-page
      opacity               .4
      background-position   -180px -280px
      &:hover
        opacity             1
        background-position -180px -260px

button.app-settings-menu
  background-color    transparent !important
  z-index             100
  position            absolute
  top                 55px
  right               0
  width               40px !important
  height              40px
  rounded             0
  box-shadow          none
  padding             0
  border              none
  .icon
    padding           0
    bg                color, red
    r-sprite            app 'global-app-settings'
  &:focus
    border            none
    shadow            none


finderSelectedColor1 = #3AAAAB
finderSelectedColor2 = #3AAAAB

.jcontextmenu

  .kdlistview-contextmenu.default
    rounded                 2px
    border                  none
    padding                 0

    .kdlistview-contextmenu.default
      margin-top            -29px
      rounded               0 2px 2px 0
      .kdlistitemview-contextitem.default
        &:first-child
          rounded             0 2px 0 0
        &:last-child
          rounded             0 0 2px 0

      &.left-aligned
        rounded             2px 0 0 2px
        .kdlistitemview-contextitem.default
          &:first-child
            rounded             2px 0 0 0
          &:last-child
            rounded             0 0 0 2px

  .kdlistitemview-contextitem.default
    font-size               .8em
    padding                 8px 10px
    border                  none

    &.selected
    &.has-sub-items.expanded
      border                none
      bg                    color, finderSelectedColor1
      color                 white
      &:first-child
        rounded             2px 2px 0 0
      &:last-child
        rounded             0 0 2px 2px
      &:hover
        bg                  color, finderSelectedColor1
      span.arrow
        border-left-color   white

    &.has-sub-items
      span.arrow
        top                 10px
        border-left-color   #31575F
    &.separator
      margin                1px 0
      padding               0
      border-bottom         1px solid #ddd
      &:hover
        border-bottom       1px solid #ddd

  > span.arrow
    z-index             9002
    size                15px 15px
    bg                  color, transparent
    kdfsprite()
    abs()
    &.top
      bg                position, -240px -560px
    &.right
      bg                position, -220px -560px
    &.bottom
      bg                position, -200px -560px
    &.left
      bg                position, -260px -560px

//
// THIN BUTTON STYLES
//
.kdbutton.thin
  bg                   color transparent
  border               2px solid logoBg
  rounded              28px
  padding              0
  height               55px
  borderBox()
  span.button-title
    padding            0
    color              logoBg
    font-size          18px
    text-decoration    uppercase
    letter-spacing     1px
  &:hover
    bg                 color white
  &:active
    bg                 color logoBg
    span.button-title
      color            white
  &:focus
    shadow             0 0 10px -2px logoBg

//
// SOLID BUTTON STYLES
//

.kdbutton.solid
  bg                   color #3c4043
  border               none
  rounded              4px
  padding              0 20px
  height               55px
  borderBox()
  span.button-title
    padding            0
    color              rgba(227, 227, 227, 0.8)
    font-size          18px
    letter-spacing     .6px
    line-height        55px
    text-rendering     geometricPrecision
  span.icon
    margin             18px 0 0 0
  &:hover
    bg                 color #4A4E52
  &:active
    bg                 color logoBg
    span.button-title
      color            white
  &:focus
    shadow             0 0 10px -2px logoBg

.kdbutton.solid.green
  bg                   color logoBg
  span.button-title
    color              white
  &:hover
  &:active
  &:focus
    bg                 color #2DBEA1
    span.button-title
      color            white
  &:focus
    shadow             0 0 10px -2px logoBg

.kdbutton.solid.yellow
  bg                   color #ff9f00
  span.button-title
    color              #ac4a00
  &:hover
  &:active
  &:focus
    bg                 color #ac4a00
    span.button-title
      color            #ff9f00
  &:focus
    shadow             0 0 10px -2px #ff9f00

.kdbutton.solid.light-gray
  bg                   color #C0C0C0
  span.button-title
    color              white
  &:hover
  &:active
  &:focus
    bg                 color #a0a0a0
    span.button-title
      color            whitesmoke
  &:focus
    shadow             0 0 10px -2px #ff9f00

.kdbutton.solid.small
  margin              0
  padding             0 25px
  size                auto 26px
  rounded             10px
  text-align          center
  span.button-title
    font-size         13px
    line-height       1
  span.icon
    margin            2px 0 0 0

.kdbutton.solid.mini
  margin              0
  padding             0 10px
  size                auto 20px
  rounded             6px
  text-align          center
  span.button-title
    font-size         12px
    line-height       1
  span.icon
    margin            2px 0 0 0

.kdbutton.solid.medium
  margin              0
  padding             0 25px
  size                auto 44px
  rounded             10px
  text-align          center
  span.button-title
    font-size         14px
    font-weight       400
    line-height       1
  span.icon
    margin            2px 0 0 0

.kdbutton.solid.red
  bg                   color #E94835
  span.button-title
    color              white
  span.icon
    margin             18px 0 0 0
  &:hover
  &:active
  &:focus
    bg                 color #e14a35
  &:focus
    shadow             0 0 10px -2px logoBg

  &.shadowed
    shadow             0 2px 0 0 #a33e2f
    .button-title
      text-shadow      0 -1px 2px rgba(0, 0, 0, .75)

.kdbutton.w-loader.loading
  .button-title
    opacity            0

.formline.button-field
  .kdbutton
    margin-left       12px
    fr()

    &.to-left
      margin-left     0
      margin-right    12px
      fl()


/*  */


/* editor-advanced-settings-menu-button
*******************************************************************************/

.kdbuttonwithmenu-wrapper.editor-advanced-settings-menu
  button.editor-advanced-settings-menu
    text-indent       -1000px
    padding           0!important
    margin            0
    size              20px,20px
    shadow            none
    border            none
    bg                color,transparent
    rounded           3px
    &:hover
      border          none
      cursor          pointer
    &:active
      border          none
      shadow          none
    &.icon-only
      height          18px
      padding         0
      contentBox()
    &.small
      padding         0
    span.icon
      left            0
      margin          0
      padding         0
      abs()
      size            17px,17px
      top             0

.kdview.jcontextmenu.kdbuttonmenu
  &.editor-advanced-settings-menu
    .chevron-ghost-wrapper
      border-color    #bababa
      .chevron-ghost
        margin-top    0
        bg            position,-60px -300px
        bg            color,#f5f5f5

.jcontextmenu .kdtreeitemview.disabledForBeta
  opacity         .5


.kdview.jcontextmenu.kdbuttonmenu.top-menu.editor-advanced-settings-menu
  rounded                 5px 5px 0 5px

.editor-advanced-settings-menu
  background              #f5f5f5
  shadow                  0 0 20px rgba(100, 100, 100, .75)

  .ace-settings-view
    padding               5px 0
    min-width             250px
    line-height           20px
    borderBox()

    hr
      margin              3px 10px

    p
      font-size           12px
      padding             3px 20px
      borderBox()
      .koding-on-off
        fr()
      a.shortcuts
        color             #444
        noTextDeco()

    .kdview.section
      margin              0 10px 0 0
      size                auto,auto
      display             inline-block
      fr()
      .kdselectbox
        width             110px
        margin            0
        display           block

    .kdselectbox
      min-width           110px
      fr()
      span.title
        font-weight       normal
        height            19px
        line-height       20px
      span.arrows
        top               0

    &.webterm-settings-view
      .kdselectbox
          min-width           130px

  .context-menu-item
    margin-left           10px
    line-height           19px
    fl()
    a
      font-size           12px
      color               #444
      cursor              default
      noTextDeco()

.editor-button.save-menu
  .kdtreeitemview
    min-width           140px
    padding             3px 0
  .context-menu-item
    margin-left       10px
    line-height       19px
    fl()
    a
      font-size       12px
      color           #444
      cursor          default
      noTextDeco()
  .on-off
    width             52px
    margin            0 10px 0 0
    fr()
    a
      padding         5px 0px 4px 0px
      width           24px

.tag-context-menu-item
  .ttag
    display             inline-block
    padding             2px 5px
    border-radius       5px
    color               white
    background          #3aaaab

.selected
  .tag-context-menu-item
    .ttag
      color             #3aaaab
      background        white




//
// THIN INPUT STYLES
//

.kdformview .formline input.kdinput
input.kdinput.text
  rel()
  z-index             1
  padding             11px 6px
  color               #3E4F55
  font-size           16px
  box-shadow          none
  font-weight         300
  height              55px
  line-height         33px
  rounded             6px
  width               100%
  text-align          left
  bg                  color, #f4f4f4
  borderBox()
  &.validation-error
    border            1px solid #F13A18


  input.kdinput.text.thin::-webkit-input-placeholder
    color               #93979a
    font-weight         300
  input.kdinput.text.thin:-moz-placeholder
    color               #93979a
    font-weight         300


///
/// KODING INPUT PLACEHOLDER STYLES

.kdinput:focus
  &::-webkit-input-placeholder
    opacity 0.5
  &:-moz-placeholder
    opacity 0.5

//
// KODING ON-OFF SWITCH STYLES
//

.koding-on-off
  size                  66px 34px
  rounded               18px
  bg                    color, #989F9C
  vendor                transition, background-color .3s ease
  cursor                pointer
  padding               2px
  noTextSelection()
  borderBox()
  rel()
  &.on
    bg                  color, #6bb198
    a.knob
      vendor            transform, translateX(32px)
  a.knob
    bg                  color, #F4F4F4
    size                30px 30px
    display             block
    rounded             50%
    -webkit-transition  -webkit-transform .1s ease
    -moz-transition     -moz-transform .1s ease
    transition          transform .1s ease

  &.small
    size                52px 28px
    rounded             14px
    &.on a.knob
      vendor            transform, translateX(24px)
    a.knob
      size              24px 24px

  &.tiny
    size                  34px 18px
    rounded               9px
    &.on a.knob
      vendor              transform, translateX(16px)
    a.knob
      size                14px 14px

//
// KODING RESURRECTION MODAL THEME
//

// .kdmodal.resurrection

.kdmodal
  bg                    color white
  rounded               6px
  shadow                0 0 32px rgba(0,0,0,.46)
  position              fixed !important

  .kdmodal-inner
    margin              45px

    .close-icon
      r-sprite            app, "modal-close-icon"
      top               14px
      right             14px

      &:hover
        r-sprite          app, "modal-close-icon"

  .kdmodal-title
    cursor              move
    line-height         normal !important
    font-weight         400
    color               #50595a !important
    margin-bottom       15px !important
    padding             0 !important
    background          none !important
    border              none !important

    .title
      font-size         24px !important

  .kdmodal-content
    margin              15px 0 0 0 !important
    padding             0 !important
    font-size           16px !important
    line-height         18px !important

    .modalformline
      padding           0
      overflow          visible

      &:last-child
        border-bottom   1px solid transparent


  .kdmodal-buttons
  .formline.button-field
    margin              24px 0 0 0 !important
    background          none !important
    // looks better i think w/o - SY
    // border-top          2px solid #f3f4f5 !important
    height              73px !important

    .kdbutton
      fr()

      &.to-left
        margin-left     0
        margin-right    12px
        fl()

      &:not(.solid)
        size            auto, 45px
        background      none
        border          3px solid
        margin          22px 0 0 12px !important
        padding         0 24px !important
        rounded         23px
        font-size       18px
        text-transform  uppercase
        font-family     'Proxima Nova'

    .modal-clean-red
      border-color      #e94b35
      color             #e94b35

    .modal-clean-green
      border-color      #1aaf5d
      color             #1aaf5d

    .modal-cancel
      border-color      #bdc3c7
      color             #bdc3c7

.kdoverlay
  fix()



//
// FORMLINE STYLES
//

.kdformview .formline
  border-bottom         none
  padding               0
  size                  auto auto
  overflow              visible
  background            none

  > label
    min-width           90px
    margin-top          11px
    line-height         22px
    fl()

  .input-wrapper
    margin-bottom       16px
    overflow            hidden

    > input
    > textarea
      min-width         260px
      width             100%
      // color             #282521 !important
      height            44px
      line-height       22px
      display           block
      text-align        left

    // > input
    //   height          32px
    //   line-height     32px
    //   padding-top     0
    //   padding-bottom  0

  .on-off
    // float             right
    margin-top        0

  .select
    margin-right      10px

  p
    line-height       22px

  .kdautocompletewrapper
    min-width         160px
    color             #282521 !important
    line-height       14px
    blockMidTop()

  div.kdselectbox
    background        #fff
    border            1px solid #d7d7d7
    shadow            none
    border-radius     6px
    height            32px

    .title
      font-size       12px
      font-weight     200
      color           #606060
      text-shadow     none
      line-height     34px !important
      padding         0 40px 0 15px

    .arrows
      r-sprite      "app", "select-arrows"
      top           9px
      right         6px

  .linkholder
    padding           0 0 10px 0
    display           inline-block
    width             200px
    a
      display         block
      cursor          pointer
      margin-bottom   5px

  >cite.hint
    font-size         11px
    color             #999

.formline.button-field //This can be created without a formview sometimes
  border-top            1px solid #eaeaea
  padding               18px 0 0

// * //

.kdnotification.mini.tray
  bg                  color, #fff
  rounded             10px
  padding             17px
  shadow              0 3px 18px rgba(0, 0, 0, .10)
  border              1px solid #c4c4c4
  fix()

  .kdnotification-close
    background          none
    size                16px !important, 16px !important
    r-sprite            app, "notification-close"

  .avatarview
    fl()

  .kdnotification-title
    fr()
    line-height       26px
    color             #3c4752


// Delete Multiple files modal
.kdmodal
  .file-container
    .delete-file
      display         block
      size            100% auto
      clear           both


.kdlistitemview-contextitem
  .vm-toggle-menu
    font-size .8em
    padding   8px 10px
    border    none
    color     #444

    .vm-toggle-item
      right   28px
      top      8px
      abs()

// File upload
.file-droparea
  kalc            height, 100% \- 20px
  kalc            width,  100% \- 20px
  borderBox()
  border          3px dashed #afafaf
  border-radius   5px
  noTextSelection()

  &.hover
    border-color  #444
    shadow        inset 0 0 0 6px rgba(26, 175, 93, .2)

  .file-drop
    width         100%
    position      absolute
    top           50%
    text-align    center
    font-size     20px
    margin-top    -10px
    z-index       0

    small
      display     block
      font-size   12px
      font-weight 200
      word-wrap   break-word
      max-width   400px
      margin      10px auto
      color       #888

  .cancel
    width         100%
    position      absolute
    bottom        20px
    text-align    center
    color         #EEE

a.action-link.verify-email
  color             #888
  margin            250px
  line-height       50px
  text-decoration   none
  span
    color           logoBg

.animated-modalview

  z-index                       10001
  background                    white
  overflow                      hidden

  size                          640px, 480px
  top                           0
  left                          0

  abs()

  vendor                transform-style, preserve-3d
  vendor                transform, translate3d(0, 0, 0)

  -webkit-transition    -webkit-transform .4s ease
  -moz-transition       -moz-transform    .4s ease
  transition            transform         .4s ease

  &.inresize
    noAnim()

  .close-icon
    r-sprite            app, "modal-close-icon"
    top                 14px
    right               14px

.kdhelp-modal

  text-align                    center
  box-shadow                    0 0 60px rgba(0, 0, 0, .5)
  padding-top                   20px
  rounded                       10px

  a
    noTextDeco()


  > .header
    height                      100px
    background                  #504E4B
    margin-bottom               40px

  > div > h2
    font-size                   36px

  > div > p

    padding                     20px 70px 10px 70px
    font-size                   15px
    font-weight                 300

  div.button

    background                  #2E7FA1
    text-shadow                 none
    color                       white
    font-size                   20px
    font-weight                 300
    padding                     10px
    width                       210px
    margin                      20px auto
    border-radius               4px
    cursor                      pointer

  footer
    h4
      line-height               30px
      font-size                 14px
      color                     #222
      a
        text-decoration         underline
        color                   socialColor

    div.warning
      border-top                  1px solid #f2f2f2
      margin                      0 30px
      padding                     15px 0
      borderBox()

      span.icon
        r-sprite                  app '25-warning'
        margin                    4px 20px 0 100px
        fl()

      p
        overflow                  hidden
        width                     auto
        text-align                left
        font-size                 14px
        line-height               1.3
        color                     footerLinkColor
        i
          color                   socialColor
          font-weight             400

  div.feature
    width                       200px
    margin-bottom               50px
    margin-top                  30px
    fl()

    p
      padding                   0

  div.button
    background                  #40AF96
    clear                       both

  .button-container
    background                  #1F2628
    height                      80px

    a
      display                   inline-block
      color                     white
      margin                    14px 14px 14px 0
      text-align                center
      padding                   10px 20px
      bg                        color, #33383A
      min-width                 130px
      rounded                   6px
      noTextDeco()

      &:hover
        bg                      color socialColor

      &.active
        bg                      color logoBg

      &:last-child
        margin-right            0

  .help-content
    height                      220px

    .help-page

      h3

        margin                  15px 30px
        font-size               22px
        font-weight             300
        border-bottom           1px solid #f2f2f2
        padding-bottom          15px
        code
          display               inline
          bg                    color homeHeaderBg
          font-family           monoFamily
          padding               0 6px
          font-weight           300
          rounded               6px

      ul
        margin                  0 30px
        line-height             22px
        li
          display               inline-block
          padding               4px 12px
          margin                0 6px 6px 0
          bg                    color homeHeaderBg
          rounded               6px
          a
            font-size           13px
            color               headerLinkColor
            i
              color             socialColor
              font-weight       400
          &:hover
            bg                  color logoBg
            a
              color             white
              i
                color           #ddd

/* Memberlistitemview */
.kdlistitemview-member
  size              auto auto
  min-height        60px
  position          relative
  padding           14px 0 11px
  margin            0 0 0 42px
  overflow          visible
  color             #3c4752
  font-weight       400
  font-size         13px
  letter-spacing    .2px
  borderBox()

  .text-overflow
    overflow        hidden
    text-overflow   ellipsis

  a
    color           inherit
    white-space     nowrap
    display         inline
    noTextDeco()

    &.profile
      font-weight   500

  .avatarview
    display         block
    left            -41px
    top             15px !important
    abs()

  .follow-btn
    size            25px, 25px
    padding         0
    rounded         13px
    bg              color, transparent
    border          2px solid #b5b5b5
    right           4px
    top             17px
    z-index         0 //This line is the meaning of the life... [BC]
    vendor          transition, width .1s ease \,\
                                border-color .3s ease
    abs()
    .icon
      padding       0
      r-sprite      activity, "follow-check"
      top           6px
      left          8px
      abs()

    .button-title
      z-index       -1
      opacity       0
      right         0
      top           4px
      font-size     12px
      color         #b5b5b5
      vendor        transition, opacity .4s ease
      abs()

    &:hover
      width         64px
      background    #ebebeb
      .button-title
        right       4px
        z-index     1
        opacity     1

    &.following-account
      border-color  #2eb398
      .icon
        r-sprite    activity, "following-check"
      .button-title
        color       #2eb398
      &:hover
        width       78px

  .profile
  .user-numbers
    white-space     nowrap
    overflow        hidden
    text-overflow   ellipsis
    color           #3c4752
    opacity         .8
    letter-spacing  0
    line-height     15px
    fl()
  .user-numbers
    height          18px
    margin          3px 0 0
    font-weight     200
    span
      font-weight   400

.modal-topic-wrapper
  .kdlistitemview-member
    .profile
    .user-numbers
      width         340px

