@import "../../../Framework/src/themes/default/kdfn"
@import "../../../Core/styl/appfn"


@css {
/*
Activity PrivateMessage stylesheet
activity.pm.styl
*/
}

deleteRed  = rgba(217, 58, 55, 0.9)
timeColor  = #d2d2d2
timeColor2 = #5F9E5E

#content-page-activity

  > .kdtabview.privatemessage
    height              100%
    overflow            hidden
    max-width           600px



.kdtabpaneview.privatemessage
  min-height            100vh
  background            #fff
  margin                0

  .message-pane-scroller
    padding             0
    height              calc(100% \- 146px)

    &.has-vertical
      padding-right       0

    .kdview.kdscrolltrack
      bg                  color transparent
      overflow            visible
      &.out
        opacity           1

      .kdscrollthumb
        bg                color rgba(0,0,0,.15)
        margin            0 4px
        width             7px
        rounded           6px

    > .kdscrollview
      padding           0 34px 0 0
      borderBox()


  .new-message-form
    abs                 0px 0 0 0px
    width               100%
    padding             34px
    borderBox()
    &:after
      left              50% !important
      opacity           .5 !important
      margin            -72px 0 0 -72px !important

    &.inline
      bg                color, white
      width             100%
      z-index           10
      padding           0 34px 12px
      abs               0px 0 0 0px
      vendor            transition, top .3s ease \,
                                    box-shadow .5s ease
      vendor            pointer-events, none
      shadow            0 0 0 0 transparent

      .formline.recipient
        padding-left    16px

      &.active
        shadow          0 2px 2px 0 rgba(0,0,0,.1)
        top             58px
        opacity         1
        vendor          pointer-events, auto


    .kdautocompletewrapper
      width             100%
      min-width         0
      &.delete-mode
        .kdinput.text::-webkit-input-placeholder
          color         deleteRed
        .kdinput.text:-moz-input-placeholder
          color         deleteRed

    .autocomplete-heads
      width             auto
      fl()

      .chat-head
        white-space     nowrap
        line-height     25px
        margin          1px 14px 1px 0
        padding         5px
        fl()

        &.selected
          > span
            text-decoration   line-through
            color             deleteRed

        > span
          display       inline-block
          font-size     14px
          color         #8B8B8B

        .avatarview
          height        25px
          margin        0 7px 0 0


    .input-wrapper
      margin            0
      padding           0

    .kdinput.text
      background        transparent
      border            none
      height            40px
      font-size         14px
      shadow            none
      outline           none
      padding-left      5px
      fr()

      &::-webkit-input-placeholder
        color           #D0D0D0
      &:-moz-input-placeholder
        color           #D0D0D0

    .formline
      position          relative
      background        #fff
      height            auto
      border            1px solid #E8E8E8
      rounded           3px 3px 0 0
      padding-left      47px

      &.purpose
        height          40px
        padding-left    85px
        rounded         0 0 3px 3px
        border-top      none

    .kdlabel
      abs               0px 0 0 0px
      line-height       40px
      z-index           20
      padding           0 0 0 17px
      margin            0
      color             #9A9A9A
      font-size         12px
      font-weight       600
      min-width         0


  .list-previous-link
    size                100% 47px
    border-radius       3px
    line-height         47px
    font-size           14px
    font-weight         600
    color               logoBg
    display             block
    margin-bottom       0
    margin-top          0
    text-align          center
    bg                  color #F6F6F6
    noTextDeco()

  .new-message-form:after
  .chat-heads:after
      content           ''
      r-sprite          activity 'messages-loading'
      abs               50vh 0 0 -10000px
      margin            -72px 0 0 -89px
      vendor            transition, opacity .2s ease-in \,\
                                    left .1s .5s linear
      opacity           .01

  .new-message-form.inline:after
    opacity             .01 !important
    hidden()

  .chat-heads
    height              58px
    line-height         58px
    margin              0 34px
    width               calc(100% \- 68px)
    z-index             11
    bg                  color white
    rel()

    .kdbuttonwithmenu-wrapper.activity-settings-menu
      z-index             1
      size                15px 10px
      padding             0
      cursor              pointer
      abs                 22px 33px 0 0
      button.kdbutton
        size              15px 10px
        bg                color transparent
        border            none
        padding           0
        padding-right     0 !important
        cursor            pointer
      .chevron-separator
        hidden()
      .chevron
        r-sprite          activity chevron-icon

    .description
      color                 #4a4a4a
      font-size             13px
      // padding               0 0 0 26px
      display               block
      overflow              visible
      fl()

      &:before
        content             ''
        display             inline-block
        r-sprite            'activity', 'lock-16'
        vertical-align      text-top
        margin              0 8px 0 0

    .heads
      margin                12px 0 0 14px
      fl()

      .avatarview
        size                auto, auto
        margin              0 6px 0 0
        fl()

        img
          border            1px solid #d4d4d4
          display           block
          margin            0
          padding           0

    .kdbutton.new-participant
      margin-top          12px
      display             block
      size                30px, 30px
      border              1px dashed #9c9c9c
      rounded             50%
      background          transparent
      padding             0
      text-align          center
      line-height         28px
      fl()

      .icon
        display           inline-block
        r-sprite          'activity', 'new-participant-plus'
        -webkit-transition -webkit-transform .2s ease
        -moz-transition    -moz-transform .2s ease

  &.translucent

    .chat-heads:after
      opacity             .5
      left                50%

    .kdlistview-privatemessage
      opacity             0.01

  .kdlistview-privatemessage
    opacity               1
    vendor                transition, opacity .177s ease-in


    > section > time

      color               timeColor2
      display             block
      margin              8px 0 0 0
      line-height         30px
      font-size           11px
      z-index             1
      text-transform      uppercase

  .kdlistitemview-activity.privatemessage
    padding           0
    border            none

    .settings-menu-wrapper
      top             25px

    .chevron
      hidden()

    time
      display           inline-block
      width             auto
      overflow          visible
      color             timeColor
      font-size         10px
      // hidden()

    &.editing
      background        paleYellow
      .meta
        hidden()

      .edit-widget-wrapper
        margin            5px 0 0 -12px
        padding           6px
        rounded           3px
        &:after
          content

        .edit-widget
          padding         0

          .input-view.hitenterview
            min-height        34px
            padding           6px
            border-color      #dfcc97
            margin-bottom     0

    .link-embed-box
      padding           10px 1px 10px 0
      display           none


    &.edited
      .meta time:after
        display         none

      .activity-content-wrapper > article > p:after
        content        ' (edited)'
        display        inline
        font-size      11px
        color          #ccc

    &:hover
      .chevron
        display       inline-block !important
        visibility    visible !important

    .activity-content-wrapper
      margin            0 0 0 56px
      max-width         475px
      padding           0

      .meta
        margin          8px 0 4px 0px

    .comment-time
      cursor            pointer
      font-size         11px
      font-weight       300
      margin-top        0

      &:hover
        text-decoration underline

    &.consequent

      .activity-content-wrapper
        padding         0

      .settings-menu-wrapper
        top             10px

      .avatarview
      a.profile
        hidden()


      &:hover
        .comment-time
          display       inline-block !important
          visibility    visible !important

        .action-link.like-link:after
          r-sprite      activity heart-dim

      .meta
        display         inline-block
        margin          4px 0 0 0
        height          16px
        width           90px
        top             2px
        left            -90px
        text-align      right
        abs()

        time
          hidden()

        .action-link.like-link

          &:after
            content       ''
            display       block
            height        9px

          &.has-likes:after
            r-sprite      activity heart-outline !important

          &.liked:after
            r-sprite      activity heart-solid !important



      .comment-body-container

        p
          line-height   20px


    &.status
      margin-bottom       0

    &.with-parent
      .activity-content-wrapper
        visible()

    .author-avatar
      abs                   10px 0 0 -56px
      border                none

    .list-previous-link
      size                100% 47px
      line-height         47px
      font-size           14px
      color               logoBg
      display             block
      margin-bottom       10px
      text-align          center
      bg                  color #F6F6F6
      noTextDeco()

    .activity-content-wrapper
      background            none
      hidden()

      .meta
        .action-link.like-link
          display         inline-block
          padding         5px
          vertical-align  text-bottom

          &:after
            content       ''
            display       block
            height        9px

          &.has-likes:after
            r-sprite      activity heart-outline !important

          &.liked:after
            r-sprite      activity heart-solid !important


      &:hover
        .action-link.like-link:after
          r-sprite        activity heart-dim

      > article
        margin-top          7px
        padding-top         0
        margin-bottom       0

        p:first-of-type
          padding-top       0

        p
          padding-left      0
          padding-right     34px

        p:last-of-type
          padding-bottom    6px

      .like-view

        a.like-link
          font-size         11px
          color             #838383
          noTextDeco()

        .like-count
          noTextDeco()
          display           inline-block
          height            16px
          line-height       16px
          padding           0 4px
          background        #dfdfdf
          color             #747474
          rounded           2px
          margin-left       7px
          font-size         11px

    .meta
      .profile:after
        display             none

    .comment-container
      margin-left           -50px
      kalc                  width (100% \+ 50px)

      .kdlistitemview-comment
        padding             10px 15px 0 52px

        &:hover
          .action-link.like-link:after
            r-sprite        activity heart-dim

        .comment-menu
          right             0


        .profile
          font-weight       600

        .comment-body-container
          font-size         14px
          padding           0 0 7px
          opacity           .99

        .reply-link
          display           none

        .stats
          display           inline-block
          margin            0 0 7px 7px

          .action-link.like-link
            display         inline-block
            padding         5px
            vertical-align  middle

            &:after
              content       ''
              display       block
              height        8px

            &.has-likes:after
              r-sprite      activity heart-outline

            &.liked:after
              r-sprite      activity heart-solid

        time
          display           inline-block
          width             auto
          overflow          visible
          color             #d2d2d2
          font-size         10px

        .avatarview
          hidden()

        textarea
          rounded           0
          border            1px solid #EAEAEA
          height            53px !important
          margin            0 0 -2px 0
          padding           16px 16px 16px 46px


          &::-webkit-input-placeholder
          &::-moz-placeholder
            line-height     39px
            font-weight     400
            color           #b2b2b2

    &.join-leave
      article
        font-style          italic
        opacity             .5

.reply-input-widget.private
  width               calc(100% \- 68px)
  height              auto
  min-height          45px
  padding             0
  margin              0 34px
  border              2px solid #eaeaea
  bg                  color white
  rounded             0
  z-index             100
  cursor              text
  font-size           0
  abs                 0 0 30px 0px
  borderBox()

  &:before
    content           ""
    r-sprite          activity widget-icon
    z-index           2
    abs               16px 0 0 22px


  .input-view.hitenterview
    bg              color transparent
    bg              image none
    border          none
    margin          0
    width           100%
    font-size       14px
    line-height     19px
    min-height      47px
    padding         14px 14px 14px 54px
    font-weight     400
    rounded         0
    &:focus
      outline       none
      shadow        none


#kdmaincontainer.collapsed .reply-input-widget
  kalc                width, 100% \- 131px


.reply-like-tooltip
  p
    text-align              left